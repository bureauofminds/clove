<Plugin xmlns:PreviewLoadManager="com.bridge.module.LoadManagerModule">
		
		<Number instance:id="similarVideosHeight" value="100" />
		
		
		<Canvas instance:id="videosScroll" visible="{false}" style="backgroundColors:#000000;backgroundAlphas:0.5;"  left="10" top="10" right="10" height="{similarVideosHeight+50}">
			<Label text="Related Videos:" style="fontSize:20;fontColor:#FFFFFF;" />
			<Canvas instance:id="likeVideos" alignment="horizontal"  height="{similarVideosHeight}" y="30" padding="10">
			
				<observer:listen to="{currentVideo.proxyListener}" for="change">
					<action:script>
						<![CDATA[
						
							
							SpriteUtils.clear(likeVideos);
						
							var simVideos = currentVideo.similarVideos.video;
						
							var numVideos = ObjectUtils.getLength(simVideos);
					
						
						]]>
					</action:script>
					<for:loop name="j" start="0" stop="{numVideos+-1}">
						<run script="{var videoData = simVideos[j]}" />
						<run script="{var video = videoData.preview}" />
						<run script="{var mouseUpScript = videoData.mouseUp}" />
					
						<Canvas alignment="vertical" height="{similarVideosHeight}">
							<Image instance:id="image" source="{#PreviewLoadManager:media(video)}" alpha="0" scaling="stretch" buttonMode="{true}" observer:mouseUp="{mouseUpScript}" />
							
							<Tween target="{image}" property="alpha" duration="800" start="0" stop="1" />
							<Label text="{simVideos[j].name}" style="fontColor:#FFFFFF" />
						</Canvas>
					</for:loop>
				
					<change:property target="{previousVideos}" visible="{true}" />
				
					<change:property target="{nextVideos}" visible="{true}" />
			
				
				
				</observer:listen>
				
				
			
			</Canvas>
			<Canvas instance:id="videosMask" style="backgroundColors:#000000;" percentWidth="100" height="{similarVideosHeight+50}" />
			<change:property target="{likeVideos}" mask="{videosMask}" />
			<Image instance:id="previousVideos" visible="{false}" source="{host}/plugins/previous.png" x="10" verticalCenter="0" buttonMode="{true}" alpha=".5" observer:mouseOver="previousVideos.alpha=1" observer:mouseOut="previousVideos.alpha=0.5">
				<observer:listen to="{previousVideos}" for="mouseDown">
					<action:script>
						<![CDATA[
							var nx = likeVideos.x + stage.stageWidth;
					
							if(nx > 0)
							{
								nx = 0;
							}
							new Tween(likeVideos,'x',likeVideos.x,nx,1000);
						]]>
					</action:script>
				</observer:listen>		
			</Image>
			<Image instance:id="nextVideos" visible="{false}" source="{host}/plugins/next.png" right="10"  verticalCenter="0" buttonMode="{true}" alpha=".5" observer:mouseOver="nextVideos.alpha=1" observer:mouseOut="nextVideos.alpha=0.5">
				<observer:listen to="{nextVideos}" for="mouseDown">
					<action:script>
						<![CDATA[
							var nx = likeVideos.x - stage.stageWidth;
					
							if(likeVideos.width + nx < stage.stageWidth)
							{
								nx = stage.stageWidth - likeVideos.width;
							}
							
							new Tween(likeVideos,'x',likeVideos.x,nx,1000);
							//likeVideos.x = nx;
				
					
						]]>
					</action:script>
				</observer:listen>
			</Image>
		</Canvas>
		
		
	
	
	<observer:listen to="{videoPlayer}" for="pause">
	   <change:property target="{videosScroll}" visible="{true}" />
	   <Tween target="{videosScroll}" property="alpha" start="{videosScroll.alpha}" stop="1" duration="500" />
	   
	</observer:listen>
	<observer:listen to="{videoPlayer}" for="resume">
	 	<Tween target="{videosScroll}" property="alpha" start="{videosScroll.alpha}" stop="0" duration="500"  />
	</observer:listen>
</Plugin>